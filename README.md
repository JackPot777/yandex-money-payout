<h1 align="center">–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –ú–∞—Å—Å–æ–≤—ã–º–∏ –≤—ã–ø–ª–∞—Ç–∞–º–∏ –æ—Ç –Ø–Ω–¥–µ–∫—Å</h1>

- [–û–ø–∏—Å–∞–Ω–∏–µ](#description)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#Installation)
- [–ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è?](#howuseit)
    - [–ù–∞—Å—Ç—Ä–æ–π–∫–∞](#settings)
    - [–ì–µ–Ω–µ—Ä–∞—Ü–∏—è clientOrderId](#generatorId)
    - [–ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω](#phone)
    - [–ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –Ω–∞ —è–Ω–¥–µ–∫—Å –∫–æ—à–µ–ª–µ–∫](#yandex-purse)
    - [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞](#report)
    - [–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫](#error)
    - [–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Laravel](#laravel)

- [–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª—ã](#extra)
- [–£–≥–æ—Å—Ç–∏—Ç—å —á–∞–µ–º üòå](#donate)

<a name="description"></a>

## –û–ø–∏—Å–∞–Ω–∏–µ

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø–æ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—é –¥–µ–Ω–µ–≥ –≤ —è–Ω–¥–µ–∫—Å –≤—ã–ø–ª–∞—Ç—ã.

### –°—É—â–µ—Å—Ç–≤—É–µ—Ç –¥–≤–µ –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:

#### v1 (–°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è)

–í–∏–¥—ã –≤—ã–ø–ª–∞—Ç –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

     ‚úÖ PHP 5

     ‚úÖ –ù–∞ —Ç–µ–ª–µ—Ñ–æ–Ω
    
     ‚úÖ –ù–∞ —è–Ω–¥–µ–∫—Å –∫–æ—à–µ–ª–µ–∫
    
     ‚úÖ –ù–∞ –±–∞–Ω–∫–æ–≤—Å–∫—É—é –∫–∞—Ä—Ç—É
     
     ‚ùå –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Laravel

     ‚ùå –ê–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ clientOrderId

     ‚ùå –°–ª–æ–∂–Ω—ã–π API

#### v2 (–ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è)

–í–∏–¥—ã –≤—ã–ø–ª–∞—Ç –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

     ‚úÖ PHP >=7.3

     ‚úÖ –ù–∞ —Ç–µ–ª–µ—Ñ–æ–Ω
    
     ‚úÖ –ù–∞ —è–Ω–¥–µ–∫—Å –∫–æ—à–µ–ª–µ–∫
    
     ‚ùå –ù–∞ –±–∞–Ω–∫–æ–≤—Å–∫—É—é –∫–∞—Ä—Ç—É
     
     ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Laravel

     ‚úÖ –ê–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ clientOrderId

     ‚úÖ ClientOrderId —á–µ—Ä–µ–∑ –º–æ–¥–µ–ª—å Eloquent

     ‚úÖ ClientOrderId –≤ —Ñ–æ—Ä–º–∞—Ç–µ UUID

     ‚úÖ –õ–µ–≥–∫–∏–π API

<a name="Installation"></a>

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```shell
composer require agoalofalife/yandex-money-payout
```

<a name="howuseit"></a>

## –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è?

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–∞–∫–µ—Ç–æ–º –≤–∞–º –Ω–∞–¥–æ –∑–∞–∫–æ–Ω—á–∏—Ç—å –≤—Å–µ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –º–æ–º–µ–Ω—Ç—ã —Å
—è–Ω–¥–µ–∫—Å –∏ –ø–æ–ª—É—á–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —Å–µ—Ä–≤–µ—Ä–∞–º–∏ –ÆKassa.

<a name="settings"></a>

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –∏ –¥–∞–Ω–Ω—ã—Ö
#### agentId
–ü–æ–ª—É—á–∏—Ç–µ —É –º–µ–Ω–µ–¥–∂–µ—Ä–∞ agentId ‚Äî –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –≤–∞—à–µ–≥–æ —à–ª—é–∑–∞ –≤ –ÆKassa.

#### cert
–≠—Ç–æ –∫–æ–º–±–∏—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–ª—é—á - –≤–∞–º –Ω–∞–¥–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–º–∞–Ω–¥:

```shell
openssl pkcs12 -export -out cert.p12 -in 201111.pem -inkey private.pem
```
201111.pem - —ç—Ç–æ –æ–±—ã—á–Ω–æ 201111.cer (–ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ) - —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ø–Ω–¥–µ–∫—Å–æ–º

private.pem - —ç—Ç–æ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–µ—Ç–µ –≤—ã –¥–æ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ yandex

–ü–æ—Å–ª–µ –∫–æ–º–∞–Ω–¥—ã –≤—ã –ø–æ–ª—É—á–∏—Ç–µ `cert.p12`

–ù–∞–¥–æ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É:

```shell
openssl pkcs12 -in cert.p12 -out keys.pem -nodes
```
–í –∏—Ç–æ–≥–µ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ `keys.pem` - –∫–æ—Ç–æ—Ä—ã–π –∏ –Ω–∞–¥–æ –≤—Å—Ç–∞–≤–∏—Ç—å –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä `cert`
(–ê–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å –¥–æ –Ω–µ–≥–æ)

#### certPassword
–ü–∞—Ä–æ–ª—å –æ—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ privateKey

### privateKey
–ê–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å –¥–æ —Ñ–∞–π–ª–∞ - –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á - –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–∞ –≤–∞—à–µ–π —Å—Ç–æ—Ä–æ–Ω–µ.
–í–æ—Ç —Å—Å—ã–ª–∫–∞ [–∫–∞–∫](https://yookassa.ru/docs/payouts/api/using-api/security#creating-private-key)
  
### yaCert
–ê–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å –¥–æ —Ñ–∞–π–ª–∞ - —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–ª—è —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –Ø–Ω–¥–µ–∫—Å–∞

–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –≤—ã–¥–∞–µ—Ç—Å—è –ø–æ –∑–∞–ø—Ä–æ—Å—ã –≤ —è–Ω–¥–µ–∫—Å, –æ–Ω –µ–¥–∏–Ω –¥–ª—è –≤—Å–µ—Ö –∏ –µ–≥–æ –º–µ–Ω—è—é—Ç —Ä–∞–∑ –≤ —Ç—Ä–∏ –≥–æ–¥–∞.

–í–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—Å—Ç–∞–≤–∏—Ç—å —Ñ–∞–π–ª —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º `deposit_verify_new.cer`

```php
  $settings = new Settings();
  $settings->agentId = '';
  $settings->cert = 'keys.pem';
  $settings->certPassword = '';
  $settings->privateKey = 'private.pem';
  $settings->yaCert = '';
```

<a name="generatorId"></a>

## –ì–µ–Ω–µ—Ä–∞—Ü–∏—è clientOrderId

–î–∞–ª–µ–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–±—Ä–∞—Ç—å —Å–ø–æ—Å–æ–± –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ clientOrderId:

‚ÑπÔ∏è UUID

`YandexPayout\Generators\ClientOrderUuid`

    –ì–µ–Ω–µ—Ä–∞—Ü–∏—è clientOrderId —á–µ—Ä–µ–∑ uuid version 4,
    —Å–ª—É—á–∞–π–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–π id

 ```php
  $generator = new \YandexPayout\Generators\ClientOrderUuid();
 ```

‚ÑπÔ∏è Eloquent Id

`YandexPayout\Generators\ClientOrderEloquent`

    –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–º–µ—Ä–∞ –ø–æ –ø–æ—Ä—è–¥–∫–æ–≤–æ–º—É –Ω–æ–º–µ—Ä—É id –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ eloquent 
    –º–æ–¥–µ–ª—å laravel

 ```php
  $generator = new \YandexPayout\Generators\ClientOrderEloquent(new \App\Models\YandexPayout());
 ```

‚ÑπÔ∏è –°–≤–æ–π –≤–∞—Ä–∏–∞–Ω—Ç

–í—ã –º–æ–∂–µ—Ç–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–≤–æ–π —Å–ø–æ—Å–æ–± —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

`YandexPayout\Contracts\GeneratorClientOrderId`

    - public function getId(): string;
       –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ id, –Ω–∞–ø—Ä–∏–º–µ—Ä –¥–ª—è id –∏–∑ –±–∞–∑—ã - —ç—Ç–æ —Å–ª–µ–¥—É—é—â–∏–π –Ω–æ–º–µ—Ä 
       –ø–æ—Å–ª–µ –∫—Ä–∞–π–Ω–µ–≥–æ.  
      
    - public function generateNextId(): string;
      –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–ª–µ–¥—É–µ—é—â–µ–≥–æ –Ω–æ–º–µ—Ä–∞ - —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ—Å—Ç–æ –ø–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä 
      –∏–ª–∏ –∫–∞–∫ –≤ —Å–ª—É—á–∞–µ uuid —É–Ω–∏–∫–∞–ª—å–Ω—ã–π - –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–∞—Å. –ú–µ—Ç–æ–¥ –Ω—É–∂–µ–Ω - –µ—Å–ª–∏ 
      –ø–æ–¥ —Ç–µ–∫—É—â–∏–º id - —É–∂–µ –µ—Å—Ç—å –∑–∞–ø–∏—Å—å –≤ —è–Ω–¥–µ–∫—Å –∏ –Ω–∞–¥–æ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –∑–∞–ø—Ä–æ—Å —Å 
      –Ω–æ–≤—ã–º clientOrderId

<a name="phone"></a>

## –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω

‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ—Å—É—â–µ—Å—Ç–≤–ª–µ–Ω–∏–∏
–ø–ª–∞—Ç–µ–∂–∞ [(testDeposition)](https://yookassa.ru/docs/payouts/api/make-deposition/basics#test-deposition)

```php
        // –ü–µ—Ä–µ–¥–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
        $settings = new Settings();
        $settings->agentId = '';
        $settings->cert = '';
        $settings->certPassword = '';
        $settings->privateKey = '';
        $settings->yaCert = '';
        
        // –í—ã–±–∏—Ä–∞–µ–º –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä
        $generator = new \YandexPayout\Generators\ClientOrderEloquent(new \App\Models\Reward\MoneyReward\Drivers\YandexPayout());

        $phone = new \YandexPayout\Accounts\Phone($settings, $generator);
        $phone->setDstAccount('79052075556'); // –ø–µ—Ä–µ–¥–∞–µ–º –Ω–æ–º–µ—Ä —Å—Ç—Ä–æ–≥–æ —Ç–∞–∫
        $phone->setAmount(1);// —Å—É–º–º–∞ - –æ–∂–∏–¥–∞–µ—Ç float
        $phone->setContract('–¢–µ—Å—Ç–æ–≤—ã–π –ø–ª–∞—Ç–µ–∂');
        
        // –î–∞–ª–µ–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –æ—Ç–ø—Ä–∞–≤–∫–∏
        $phone->canSend(); // —Ä–∞–∑–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –º–æ–∂–Ω–æ –ª–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–µ–Ω—å–≥–∏
        $phone->send(); // —Å—Ä–∞–∑—É –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∏–ª–∏ –ø–æ—Å–ª–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ 
//        –æ—Ç –º–µ—Ç–æ–¥–∞ –≤—ã—à–µ
        $phone->sendIncrementId(); // –±—É–¥—É—Ç –ø—Ä–æ–∏–∑–≤–æ–∏–¥–∏—Ç—Å—è –ø–æ–ø—ã—Ç–∫–∏ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è 
//        –¥–µ–Ω–µ–≥ - —Å –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª–µ–¥—É—é—â–µ–≥–æ clientOrderId, –ø–æ–∫–∞ 
//        –Ω–∏–∫–∞–∫–∞–∏—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –Ω–µ—Ç - –±—É–¥–µ—Ç –¥–æ –ø–æ–±–µ–¥–Ω–æ–≥–æ

        $phone->getReport(); // –ø–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–∞ –æ –∑–∞–ø—Ä–æ—Å–µ - –≥–¥–µ –¥–∞–Ω–Ω—ã–µ –æ–± 
//        –æ—Ç–≤–µ—Ç–µ —Å–µ—Ä–≤–∏—Å–∞ –∏ –¥–∞–Ω–Ω—ã–µ –∏–∑ –∑–∞–ø—Ä–æ—Å–∞, –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö - 
//        –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã get –º–µ—Ç–æ–¥—ã
```

<a name="yandex-purse"></a>

## –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –Ω–∞ —è–Ω–¥–µ–∫—Å –∫–æ—à–µ–ª–µ–∫

‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ—Å—É—â–µ—Å—Ç–≤–ª–µ–Ω–∏–∏
–ø–ª–∞—Ç–µ–∂–∞ [(testDeposition)](https://yookassa.ru/docs/payouts/api/make-deposition/basics#test-deposition)

```php
        // –ü–µ—Ä–µ–¥–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
        $settings = new Settings();
        $settings->agentId = '';
        $settings->cert = '';
        $settings->certPassword = '';
        $settings->privateKey = '';
        $settings->yaCert = '';
        
        // –í—ã–±–∏—Ä–∞–µ–º –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä
        $generator = new \YandexPayout\Generators\ClientOrderUuid();

        $phone = new \YandexPayout\Accounts\YandexPurse($settings, $generator);
        $phone->setDstAccount('4100116075156746'); // –ø–µ—Ä–µ–¥–∞–µ–º –Ω–æ–º–µ—Ä —Å—Ç—Ä–æ–≥–æ —Ç–∞–∫
        $phone->setAmount(1);// —Å—É–º–º–∞ - –æ–∂–∏–¥–∞–µ—Ç float
        $phone->setContract('–¢–µ—Å—Ç–æ–≤—ã–π –ø–ª–∞—Ç–µ–∂');
        
        // –î–∞–ª–µ–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –æ—Ç–ø—Ä–∞–≤–∫–∏
        $phone->canSend(); // —Ä–∞–∑–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –º–æ–∂–Ω–æ –ª–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–µ–Ω—å–≥–∏
        $phone->send(); // —Å—Ä–∞–∑—É –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∏–ª–∏ –ø–æ—Å–ª–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ 
//        –æ—Ç –º–µ—Ç–æ–¥–∞ –≤—ã—à–µ
        $phone->sendIncrementId(); // –±—É–¥—É—Ç –ø—Ä–æ–∏–∑–≤–æ–∏–¥–∏—Ç—Å—è –ø–æ–ø—ã—Ç–∫–∏ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è 
//        –¥–µ–Ω–µ–≥ - —Å –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª–µ–¥—É—é—â–µ–≥–æ clientOrderId, –ø–æ–∫–∞ 
//        –Ω–∏–∫–∞–∫–∞–∏—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –Ω–µ—Ç - –±—É–¥–µ—Ç –¥–æ –ø–æ–±–µ–¥–Ω–æ–≥–æ

        $phone->getReport(); // –ø–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–∞ –æ –∑–∞–ø—Ä–æ—Å–µ - –≥–¥–µ –¥–∞–Ω–Ω—ã–µ –æ–± 
//        –æ—Ç–≤–µ—Ç–µ —Å–µ—Ä–≤–∏—Å–∞ –∏ –¥–∞–Ω–Ω—ã–µ –∏–∑ –∑–∞–ø—Ä–æ—Å–∞, –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö - 
//        –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã get –º–µ—Ç–æ–¥—ã
```

<a name="report"></a>

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞ `$phone->getReport()`

```php
    // –ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–∫–∞—è
    YandexPayout\ReportOfRequest {#1637 ‚ñº
      -clientOrderId: "1"
      -amount: 1.0
      -dstAccount: "79052075556"
      -contract: "–¢–µ—Å—Ç–æ–≤—ã–π –ø–ª–∞—Ç–µ–∂"
      -agentId: "201111"
      -currency: 643
      -response: YandexPayout\Response\Response {#1652 ‚ñº // –û–±—ä–µ–∫—Ç 
    // response –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ $phone->getReport()->response()
        -balance: "200.36"
        -processedDT: "2021-10-20T21:29:50.747+03:00"
        -identification: "reviewed"
        -techMessage: null
        -status: "0"
        -error: null
      }
    }
```

<a name="error"></a>

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
–í –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–±–æ—Ç—ã —Å yandex - –º–æ–≥—É—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –æ—à–∏–±–∫–∏:
- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏—è –æ—à–∏–±–∫–∞ —è–Ω–¥–µ–∫—Å
- –ü—Ä–æ–±–ª–µ–º—ã —Å –º–æ–±–∏–ª—å–Ω—ã–º —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º
- –ò—Å—Ç–µ–∫ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç

–ò —Ç–∞–∫ –¥–∞–ª–µ–µ..

–ó–∞–ø—Ä–æ—Å—ã `send` –∏–ª–∏ `sendIncrementId` –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç bool –≤ —Å–ª—É—á–∞–µ —É—Å–ø–µ—Ö–∞.
–î–ª—è –±–æ–ª–µ–µ —á–∏—Ç–∞–±–µ–ª—å–Ω–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `isSuccessRequest`

```php
// ....
    $phone->sendIncrementId(); 
 if ($phone->isSuccessRequest()) {
    // save storage
 } else {
   $phone->getReport()->response()->getStatus();// —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
   $phone->getReport()->response()->getError();// –∫–æ–¥ –æ—à–∏–±–∫–∞
 }
```
 
–ü–µ—Ä–µ—á–µ–Ω—å –∫–æ–¥–æ–≤ –º–æ–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å [—Ç—É—Ç](https://yookassa.ru/docs/payouts/api/reference/errors)
<a name="laravel"></a>

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Laravel

–ü–∞–∫–µ—Ç –∏–º–µ–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ —É–ø—Ä–æ—â–µ–Ω–∏–∏ –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ - —á–µ—Ä–µ–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä laravel

–°–∫–æ–ø–∏—Ä—É–µ–º —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ –ø–∞–ø–∫—É config

```shell
php artisan vendor:publish --tag= yandex-payouts
```

–î–∞–ª–µ–µ –Ω–∞–¥–æ –ø–µ—Ä–µ–¥–∞—Ç—å –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –≤—ã–±—Ä–∞—Ç—å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é

```php
    'cardSynonimUrl' => '',
    'agentId'        => env('YANDEX_MONEY_PAYOUT_AGENT_ID', ''),
    'certPassword'   => env('YANDEX_MONEY_PAYOUT_CERT_PASSWORD', ''),
    'cert' => env('YANDEX_MONEY_PAYOUT_CERT', ''),
     // –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å keys.pem
    'privateKey' => env('YANDEX_MONEY_PAYOUT_CERT_PRIVATE', ''),
    // –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å private.pem
    'yaCert' => env('YANDEX_MONEY_PAYOUT_CERT_REQUEST', ''), 
    // –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å request.cer

    'generator' => [
        'type' => \YandexPayout\Generators\ClientOrderEloquent::class,
        'model' => \App\Models\YandexPayout::class
    ]
```

–î–∞–ª–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ - —Å–≤–æ–¥–∏—Ç—Å—è –∫ –ø–æ–ª—É—á–µ–Ω–∏—é –æ–±—ä–µ–∫—Ç–æ–≤ –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞. –í—ã –º–æ–∂–µ—Ç–µ
–ø–æ–ª—É—á–∞—Ç—å —ç—Ç–∏ –æ–±—ä–µ–∫—Ç—ã –≤ –¥—Ä—É–≥–∏—Ö –º–µ—Å—Ç–∞—Ö(–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã, –æ—á–µ—Ä–µ–¥–∏) - –≤–µ–∑–¥–µ –≥–¥–µ –µ—Å—Ç—å –∞–≤—Ç–æ
resolve

```php
  $yandexPurse = new \YandexPayout\Accounts\YandexPurse(app(Settings::class), app(GeneratorClientOrderId::class));
  $yandexPurse->setDstAccount('4100116075156746');
  $yandexPurse->setAmount(1);
  $yandexPurse->setContract('–¢–µ—Å—Ç–æ–≤—ã–π –ø–ª–∞—Ç–µ–∂');
  dd($yandexPurse->sendIncrementId(), $yandexPurse->getReport());
```

<a name="extra"></a>

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª—ã

* –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —è–Ω–¥–µ–∫—Å–∞ [–∑–¥–µ—Å—å](https://yookassa.ru/docs/payouts)

<a name="donate"></a>

## –£–≥–æ—Å—Ç–∏—Ç—å —á–∞–µ–º –∏–ª–∏ –∫–æ—Ñ–µ–º üòå

–≠—Ç–æ—Ç –ø–∞–∫–µ—Ç –±—ã–ª —Å–æ–∑–¥–∞–Ω —Å —Ü–µ–ª—å—é —ç–∫–æ–Ω–æ–º–∏–∏ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è –∫–æ–ª–ª–µ–≥ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤. –ï—Å–ª–∏ –æ–Ω
–≤–∞–º –ø–æ–º–æ–≥ —Å—ç–∫–æ–Ω–æ–º–∏—Ç—å –≤—Ä–µ–º—è - —Ç–æ —è –±—É–¥—É —Ä–∞–¥ –≤–∞—à–µ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –≤ –≤–∏–¥–µ –∑–≤–µ–∑–¥—ã –∏–ª–∏
—Å–∫—Ä–æ–º–Ω–æ–≥–æ –¥–æ–Ω–∞—Ç–∞.

–≠—Ç–æ—Ç –ø—Ä–æ—Å—Ç–æ–π –∑–Ω–∞–∫ –≤–Ω–∏–º–∞–Ω–∏—è - –¥–∞—Å—Ç –º–Ω–µ –ø–æ–Ω—è—Ç—å - —á—Ç–æ —Ç—Ä—É–¥—ã –Ω–µ –Ω–∞–ø—Ä–∞—Å–Ω—ã.

https://money.yandex.ru/to/410019109036855
